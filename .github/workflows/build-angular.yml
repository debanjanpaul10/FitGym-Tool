name: Build Angular Project Template

on:
    workflow_call:
        inputs:
            project_path:
                required: true
                type: string
                description: "Path to the Angular project directory"
            node_version:
                required: false
                type: string
                default: "22.x"
                description: "Node.js version to use"
            build_command:
                required: false
                type: string
                default: "npm run build"
                description: "Build command to execute"

jobs:
    build:
        name: Build Angular Project
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v3

            - name: Set up Node.js
              uses: actions/setup-node@v4
              with:
                  node-version: ${{ inputs.node_version }}

            - name: Install dependencies
              run: |
                  cd ${{ inputs.project_path }}
                  npm install

            - name: Build project
              run: |
                  cd ${{ inputs.project_path }}
                  ${{ inputs.build_command }}
